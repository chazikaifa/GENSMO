(function(t){function a(a){for(var i,o,n=a[0],u=a[1],l=a[2],c=0,m=[];c<n.length;c++)o=n[c],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);h&&h(a);while(m.length)m.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],i=!0,n=1;n<e.length;n++){var u=e[n];0!==s[u]&&(i=!1)}i&&(r.splice(a--,1),t=o(o.s=e[0]))}return t}var i={},s={app:0},r=[];function o(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)o.d(e,i,function(a){return t[a]}.bind(null,i));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],u=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var h=u;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var i=e("85ec"),s=e.n(i);s.a},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],o={name:"app",components:{}},n=o,u=(e("034f"),e("2877")),l=Object(u["a"])(n,s,r,!1,null,null,null),h=l.exports,c=e("2819"),m=e.n(c),d=e("8c4f"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"quter"},[e("sumLine",{attrs:{wywData:t.rawData,localData:t.rawLocalData}})],1),e("div",{staticClass:"quter"},[e("customerHis",{attrs:{wywData:t.rawData,localData:t.rawLocalData}})],1),e("timeout",{staticClass:"half",attrs:{wywData:t.rawData}}),e("div",{attrs:{id:"import"}},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:t.import19}},[t._v(t._s(t.import_text))]),e("input",{ref:"filElem",attrs:{type:"file"},on:{change:t.get_file}})])],1)},p=[],y=(e("4d63"),e("ac1f"),e("25f0"),e("5319"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("ve-line",{attrs:{data:t.SumData,extend:t.sumExtend}})],1)}),g=[];Date.prototype.Format=function(t){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t};var w={name:"sumLine",props:["wywData","localData"],watch:{wywData:function(){this.rawData=this.wywData,this.getSum(),this.dataReady&&this.dataLocalReady&&(this.dataLocalReady=!1),this.dataReady=!0,this.dataReady&&this.dataLocalReady&&this.get_union()},localData:function(){this.rawLocalData=this.localData,this.getLocalSum(),this.dataReady&&this.dataLocalReady&&(this.dataReady=!1),this.dataLocalReady=!0,this.dataReady&&this.dataLocalReady&&this.get_union()}},data:function(){return{sumExtend:{title:{show:!0,text:"故障量标题"},toolbox:{show:!0,feature:{myPause:{show:!0,title:"暂停轮播",icon:"path://M341.333333 113.777778a28.444444 28.444444 0 0 1 28.444445 28.444444v739.555556a28.444444 28.444444 0 0 1-56.888889 0V142.222222a28.444444 28.444444 0 0 1 28.444444-28.444444z m341.333334 0a28.444444 28.444444 0 0 1 28.444444 28.444444v739.555556a28.444444 28.444444 0 0 1-56.888889 0V142.222222a28.444444 28.444444 0 0 1 28.444445-28.444444z",onclick:this.play},myPlay:{show:!1,title:"继续轮播",icon:"path://M221.790362 1014.94374c-36.775578 0-68.472488-13.843286-91.662653-40.033785-23.130813-26.121937-35.868929-63.466474-35.868928-105.155968V154.424068c0-41.691541 12.739139-79.041194 35.869952-105.169271 23.193235-26.197662 54.889121-40.044018 91.662652-40.044018 27.752064 0 56.166207 8.159844 84.451414 24.25338l570.119699 358.735338 0.153496 0.088004c50.086745 28.728298 78.901001 72.395844 79.053474 119.806643 0 48.284703-28.559453 91.193978-80.418564 120.835066l-0.163729 0.093121L308.632219 989.273081C278.266631 1006.546489 249.860674 1014.94374 221.790362 1014.94374zM221.790362 63.144132c-44.709271 0-73.598228 35.82902-73.598228 91.279936v715.330942c0 55.43659 28.888957 91.2564 73.598228 91.2564 18.275225 0 38.137599-6.03239 59.034535-17.929348l0.165775-0.095167 566.30993-356.24154c35.544541-20.447704 54.333466-46.232974 54.333466-74.56423-0.105401-37.916565-32.837896-62.23953-52.339042-73.362868l-1.198292-0.713244L278.571576 79.725786l-0.169868-0.096191C259.408121 68.843948 239.833297 63.144132 221.790362 63.144132z",onclick:this.play},myChange:{show:!0,title:"切换维度",icon:"path://M480 32a32 32 0 0 0 32 32c119.664 0 232.16 46.608 316.768 131.232C913.392 279.84 960 392.336 960 512c0 118.096-45.472 229.168-128 313.392V736a32 32 0 0 0-64 0v192h192a32 32 0 0 0 0-64h-76.416C974.16 768.512 1024 644.112 1024 512c0-136.752-53.264-265.328-149.984-362.032C777.328 53.264 648.752 0 512 0a32 32 0 0 0-32 32zM149.984 874.032C246.672 970.736 375.248 1024 512 1024a32 32 0 0 0 0-64c-119.664 0-232.16-46.608-316.768-131.232C110.608 744.16 64 631.664 64 512c0-118.096 45.472-229.168 128-313.392V288a32 32 0 0 0 64 0V96H64a32 32 0 0 0 0 64h76.416C49.84 255.488 0 379.888 0 512c0 136.752 53.264 265.328 149.984 362.032z",onclick:this.change},saveAsImage:{show:!0}}}},sumDataArray:{length:4,flag:0,title:["19故障量","本地故障量","总体故障量","总体责任故障量"],columns:[["日期","故障量","责任故障量"],["日期","故障量","责任故障量"],["日期","19工单","本地工单"],["日期","19工单","本地工单"]],rows:[],loading:!0},SumData:{columns:["日期","故障量","责任故障量"],rows:[]},dataReady:!1,dataLocalReady:!1,rawData:this.data,rawLocalData:this.localData,sum:0,timer:void 0,playing:!0}},created:function(){this.init()},methods:{init:function(){console.log("sum init"),this.timer=setTimeout(this.change,5e3)},getSum:function(){var t=[],a=[],e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);for(var i=e.getDate(),s=e.getMonth()+1,r=0;r<i+1;r++)t.push(new Date(e.setDate(r+1))),a.push({"日期":s+"月"+(r+1)+"日","故障量":0,"责任故障量":0});for(var o in a.pop(),this.rawData){var n=this.rawData[o];if("广东省广州市"==this.rawData[o].province)for(var u=new Date(n.end_time),l=0;l<i;l++)if(u>t[l]&&u<t[l+1]){a[l]["故障量"]=a[l]["故障量"]+1,"1"==n.is_assess&&(a[l]["责任故障量"]=a[l]["责任故障量"]+1);break}}this.sumDataArray.rows[0]=a},getLocalSum:function(){var t=[],a=[],e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);for(var i=e.getDate(),s=e.getMonth()+1,r=0;r<i+1;r++)t.push(new Date(e.setDate(r+1))),a.push({"日期":s+"月"+(r+1)+"日","故障量":0,"责任故障量":0});for(var o in a.pop(),this.rawLocalData)for(var n=this.rawLocalData[o],u=new Date(n.end_time),l=0;l<i;l++)if(u>t[l]&&u<t[l+1]){a[l]["故障量"]=a[l]["故障量"]+1,"1"==n.is_trouble&&(a[l]["责任故障量"]=a[l]["责任故障量"]+1);break}this.sumDataArray.rows[1]=a},get_union:function(){var t=[],a=new Date;a.setHours(0),a.setMinutes(0),a.setSeconds(0);for(var e=a.getDate(),i=a.getMonth()+1,s=[],r=[],o=0;o<e+1;o++)t.push(new Date(a.setDate(o+1))),s.push({"日期":i+"月"+(o+1)+"日","19工单":0,"本地工单":0}),r.push({"日期":i+"月"+(o+1)+"日","19工单":0,"本地工单":0});for(var n in s.pop(),r.pop(),this.rawData){var u=this.rawData[n];if("广东省广州市"==this.rawData[n].province)for(var l=new Date(u.end_time),h=0;h<e;h++)if(l>t[h]&&l<t[h+1]){s[h]["19工单"]=s[h]["19工单"]+1,"1"==u.is_assess&&(r[h]["19工单"]=r[h]["19工单"]+1);break}}for(var c in this.rawLocalData)for(var m=this.rawLocalData[c],d=new Date(m.end_time),f=0;f<e;f++)if(d>t[f]&&d<t[f+1]){s[f]["本地工单"]=s[f]["本地工单"]+1,"1"==m.is_trouble&&(r[f]["本地工单"]=r[f]["本地工单"]+1);break}this.sumDataArray.rows[2]=s,this.sumDataArray.rows[3]=r,this.sumDataArray.loading=!1;var p={columns:this.sumDataArray.columns[0],rows:this.sumDataArray.rows[0]};this.SumData=p,this.sumExtend.title={show:!0,text:this.sumDataArray.title[0]}},change:function(t){if(void 0!=this.timer&&clearTimeout(this.timer),this.playing&&(this.timer=setTimeout(this.change,5e3)),!this.sumDataArray.loading){this.sumDataArray.flag+1>=this.sumDataArray.length?this.sumDataArray.flag=0:this.sumDataArray.flag++;var a=this.sumDataArray.flag,e={columns:this.sumDataArray.columns[a],rows:this.sumDataArray.rows[a]};this.SumData=e,this.sumExtend.title={show:!0,text:this.sumDataArray.title[a]}}},play:function(){void 0!=this.timer?(clearTimeout(this.timer),this.timer=void 0,this.playing=!1,this.sumExtend.toolbox.feature.myPlay.show=!0,this.sumExtend.toolbox.feature.myPause.show=!1):(this.playing=!0,this.change(),this.sumExtend.toolbox.feature.myPlay.show=!1,this.sumExtend.toolbox.feature.myPause.show=!0)}}},v=w,D=Object(u["a"])(v,y,g,!1,null,"3d152e61",null),x=D.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("ve-histogram",{attrs:{data:t.customerData,extend:t.customerExtend,settings:t.customerSettings}})],1)},_=[],L=(e("fb6a"),e("b0c0"),e("d4ec")),S=e("bee2");Date.prototype.Format=function(t){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t},Array.prototype.clone=function(){for(var t=[],a=0;a<this.length;a++)t.push(this[a].clone());return t};var M=function(){function t(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(L["a"])(this,t),this["客户名称"]=a,this["责任故障"]=e,this["非责任故障"]=i,this.sum=s}return Object(S["a"])(t,[{key:"clone",value:function(){return new t(this["客户名称"],this["责任故障"],this["非责任故障"],this.sum)}},{key:"addSum1",value:function(){this["责任故障"]=this["责任故障"]+1,this.sum=this.sum+1}},{key:"addSum2",value:function(){this["非责任故障"]=this["非责任故障"]+1,this.sum=this.sum+1}},{key:"is",value:function(t){return this["客户名称"]==t}},{key:"isCustomer",value:function(t){return this["客户名称"]==t["客户名称"]}},{key:"add",value:function(t){this["责任故障"]=this["责任故障"]+t["责任故障"],this["非责任故障"]=this["非责任故障"]+t["非责任故障"],this.sum=this["责任故障"]+this["非责任故障"]}}]),t}(),R={name:"customerHis",props:["wywData","localData"],watch:{wywData:function(){this.rawData=this.wywData,this.getCustomer(),this.dataReady&&this.dataLocalReady&&(this.dataLocalReady=!1),this.dataReady=!0,this.dataReady&&this.dataLocalReady&&this.get_union()},localData:function(){this.rawLocalData=this.localData,this.getLocalCustomer(),this.dataReady&&this.dataLocalReady&&(this.dataReady=!1),this.dataLocalReady=!0,this.dataReady&&this.dataLocalReady&&this.get_union()}},data:function(){return{customerExtend:{title:{show:!0,text:"客户故障量标题"},xAxis:{axisLabel:{rotate:-60,formatter:function(t){var a="";return a=t.length>8?t.substring(0,8)+"...":t,a}}},toolbox:{show:!0,feature:{myPause:{show:!0,title:"暂停轮播",icon:"path://M341.333333 113.777778a28.444444 28.444444 0 0 1 28.444445 28.444444v739.555556a28.444444 28.444444 0 0 1-56.888889 0V142.222222a28.444444 28.444444 0 0 1 28.444444-28.444444z m341.333334 0a28.444444 28.444444 0 0 1 28.444444 28.444444v739.555556a28.444444 28.444444 0 0 1-56.888889 0V142.222222a28.444444 28.444444 0 0 1 28.444445-28.444444z",onclick:this.play},myPlay:{show:!1,title:"继续轮播",icon:"path://M221.790362 1014.94374c-36.775578 0-68.472488-13.843286-91.662653-40.033785-23.130813-26.121937-35.868929-63.466474-35.868928-105.155968V154.424068c0-41.691541 12.739139-79.041194 35.869952-105.169271 23.193235-26.197662 54.889121-40.044018 91.662652-40.044018 27.752064 0 56.166207 8.159844 84.451414 24.25338l570.119699 358.735338 0.153496 0.088004c50.086745 28.728298 78.901001 72.395844 79.053474 119.806643 0 48.284703-28.559453 91.193978-80.418564 120.835066l-0.163729 0.093121L308.632219 989.273081C278.266631 1006.546489 249.860674 1014.94374 221.790362 1014.94374zM221.790362 63.144132c-44.709271 0-73.598228 35.82902-73.598228 91.279936v715.330942c0 55.43659 28.888957 91.2564 73.598228 91.2564 18.275225 0 38.137599-6.03239 59.034535-17.929348l0.165775-0.095167 566.30993-356.24154c35.544541-20.447704 54.333466-46.232974 54.333466-74.56423-0.105401-37.916565-32.837896-62.23953-52.339042-73.362868l-1.198292-0.713244L278.571576 79.725786l-0.169868-0.096191C259.408121 68.843948 239.833297 63.144132 221.790362 63.144132z",onclick:this.play},myChange:{show:!0,title:"切换维度",icon:"path://M480 32a32 32 0 0 0 32 32c119.664 0 232.16 46.608 316.768 131.232C913.392 279.84 960 392.336 960 512c0 118.096-45.472 229.168-128 313.392V736a32 32 0 0 0-64 0v192h192a32 32 0 0 0 0-64h-76.416C974.16 768.512 1024 644.112 1024 512c0-136.752-53.264-265.328-149.984-362.032C777.328 53.264 648.752 0 512 0a32 32 0 0 0-32 32zM149.984 874.032C246.672 970.736 375.248 1024 512 1024a32 32 0 0 0 0-64c-119.664 0-232.16-46.608-316.768-131.232C110.608 744.16 64 631.664 64 512c0-118.096 45.472-229.168 128-313.392V288a32 32 0 0 0 64 0V96H64a32 32 0 0 0 0 64h76.416C49.84 255.488 0 379.888 0 512c0 136.752 53.264 265.328 149.984 362.032z",onclick:this.change},saveAsImage:{show:!0}}}},dataArray:{length:3,flag:0,title:["19客户故障量排行","本地客户故障量排行","总体故障量排行"],rows:[],loading:!0},customerData:{columns:["客户名称","责任故障","非责任故障"],rows:[]},customerSettings:{stack:{"故障量":["责任故障","非责任故障"]}},fullData:[],fullLocalData:[],dataReady:!1,dataLocalReady:!1,rawData:this.data,rawLocalData:this.localData,sum:0,timer:void 0,playing:!0}},created:function(){this.init()},methods:{init:function(){console.log("customer init"),this.timer=setTimeout(this.change,5e3)},getCustomer:function(){var t=[];for(var a in this.rawData)if("广东省广州市"==this.rawData[a].province){for(var e=this.rawData[a].name,i=!1,s=0;s<t.length;s++)if(t[s].is(e)){"1"==this.rawData[a].is_assess?t[s].addSum1():t[s].addSum2(),i=!0;break}if(!i){var r=new M(e);"1"==this.rawData[a].is_assess?r.addSum1():r.addSum2(),t.push(r)}}t.sort((function(t,a){return t["sum"]-a["sum"]})),this.fullData=t,t.reverse(),t.length>15?this.dataArray.rows[0]=t.slice(0,15):this.dataArray.rows[0]=t},getLocalCustomer:function(){var t=[];for(var a in this.rawLocalData){for(var e=this.rawLocalData[a].name,i=!1,s=0;s<t.length;s++)if(t[s].is(e)){"1"==this.rawLocalData[a].is_trouble?t[s].addSum1():t[s].addSum2(),i=!0;break}if(!i){var r=new M(e);"1"==this.rawLocalData[a].is_trouble?r.addSum1():r.addSum2(),t.push(r)}}t.sort((function(t,a){return t["sum"]-a["sum"]})),t.reverse(),this.fullLocalData=t,t.length>15?this.dataArray.rows[1]=t.slice(0,15):this.dataArray.rows[1]=t},get_union:function(){var t=this.customerConcat(this.fullData,this.fullLocalData);t.length>15?this.dataArray.rows[2]=t.slice(0,15):this.dataArray.rows[2]=t,this.dataArray.loading=!1,this.customerData.rows=this.dataArray.rows[0],this.customerExtend.title={show:!0,text:this.dataArray.title[0]}},customerConcat:function(t,a){for(var e=t.clone(),i=t.length,s=0;s<a.length;s++){for(var r=!0,o=0;o<i&&r;o++)t[o].isCustomer(a[s])&&(e[o].add(a[s]),r=!1);r&&e.push(a[s].clone())}return e.sort((function(t,a){return t["sum"]-a["sum"]})),e.reverse(),e},change:function(){if(void 0!=this.timer&&clearTimeout(this.timer),this.playing&&(this.timer=setTimeout(this.change,5e3)),!this.dataArray.loading){this.dataArray.flag+1>=this.dataArray.length?this.dataArray.flag=0:this.dataArray.flag++;var t=this.dataArray.flag;this.customerData.rows=this.dataArray.rows[t],this.customerExtend.title={show:!0,text:this.dataArray.title[t]}}},play:function(){void 0!=this.timer?(clearTimeout(this.timer),this.timer=void 0,this.playing=!1,this.customerExtend.toolbox.feature.myPlay.show=!0,this.customerExtend.toolbox.feature.myPause.show=!1):(this.playing=!0,this.change(),this.customerExtend.toolbox.feature.myPlay.show=!1,this.customerExtend.toolbox.feature.myPause.show=!0)}}},E=R,A=Object(u["a"])(E,b,_,!1,null,"17bee9ea",null),C=A.exports,k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"timecount"},[e("div",{staticClass:"title"},[t._v(" 考核指标 ")]),e("vxe-table",{attrs:{data:t.timeCount}},[e("vxe-table-column",{attrs:{width:"26%",field:"item",title:"考核项目"}}),e("vxe-table-column",{attrs:{width:"17%",field:"sum",title:"总工单数"}}),e("vxe-table-column",{attrs:{width:"17%",field:"timeout",title:"超时数"}}),e("vxe-table-column",{attrs:{width:"20%",field:"time",title:"平均历时(分钟)"}}),e("vxe-table-column",{attrs:{width:"20%",field:"rate",title:"及时率"}})],1)],1),e("div",{staticClass:"timeout"},[e("div",{staticClass:"title"},[t._v(" 超时工单 ")]),e("vxe-table",{attrs:{border:"","highlight-hover-row":"",height:"90%",data:t.timeoutList}},[e("vxe-table-column",{attrs:{width:"28%",field:"id",title:"故障单编号"}}),e("vxe-table-column",{attrs:{width:"14.5%",field:"timeLimit",title:"故障时限(分钟)"}}),e("vxe-table-column",{attrs:{width:"14.5%",field:"time",title:"故障历时(分钟)"}}),e("vxe-table-column",{attrs:{width:"15%",field:"mark",title:"标记"}}),e("vxe-table-column",{attrs:{width:"28%",field:"reason",title:"超时原因","show-overflow":""}})],1)],1)])])},P=[],T=(e("a9e3"),e("b680"),{name:"timeout",props:["wywData"],watch:{wywData:function(){this.rawData=this.wywData,this.count()}},data:function(){return{timeCount:[],timeoutList:[],rawData:[]}},created:function(){this.init()},methods:{init:function(){console.log("timeout init")},count:function(){var t=[{item:"TOP33",sum:0,timeout:0,rate:"100.0%",time:0,timeSum:0},{item:"TOP800家1-2级",sum:0,timeout:0,rate:"100.0%",time:0,timeSum:0},{item:"TOP800家3-6级",sum:0,timeout:0,rate:"100.0%",time:0,timeSum:0},{item:"所有客户",sum:0,timeout:0,rate:"100.0%",time:0,timeSum:0}];for(var a in this.rawData){var e=this.rawData[a];if("广东省广州市"==e.province&&"1"==e.is_assess){var i="1"==e.time_out;if(t[3].sum++,t[3].timeSum=t[3].timeSum+Number(e.time),t[3].time=(t[3].timeSum/t[3].sum).toFixed(2),i&&t[3].timeout++,t[3].rate=Number((t[3].sum-t[3].timeout)/t[3].sum*100).toFixed(2)+"%","1"==e.assess_TOPN)switch(e.level){case"一级":case"二级":t[1].sum++,t[1].timeSum=t[1].timeSum+Number(e.time),t[1].time=(t[1].timeSum/t[1].sum).toFixed(2),i&&t[1].timeout++,t[1].rate=Number((t[1].sum-t[1].timeout)/t[1].sum*100).toFixed(2)+"%";break;case"三级":case"四级":case"五级":case"六级":t[2].sum++,t[2].timeSum=t[2].timeSum+Number(e.time),t[2].time=(t[2].timeSum/t[2].sum).toFixed(2),i&&t[2].timeout++,t[2].rate=Number((t[2].sum-t[2].timeout)/t[2].sum*100).toFixed(2)+"%";break}if("1"==e.TOP33&&(t[0].sum++,t[0].timeSum=t[0].timeSum+Number(e.time),t[0].time=(t[0].timeSum/t[0].sum).toFixed(2),i&&t[0].timeout++,t[0].rate=Number((t[0].sum-t[0].timeout)/t[0].sum*100).toFixed(2)+"%"),i){var s="";"1"==e.TOP33&&(s+="TOP33 "),"1"==e.assess_TOPN&&(s+="TOP800 "),s=s.slice(0,-1);var r={id:e.orderId,timeLimit:e.time_limit,time:e.time,reason:e.trouble_reason_symptom,mark:s};this.timeoutList.push(r)}}}this.timeCount=t}}}),F=T,O=(e("fdfb"),Object(u["a"])(F,k,P,!1,null,"7f80727a",null)),$=O.exports,j="172.0.0.233/gensmo/";Date.prototype.Format=function(t){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t};var H={name:"Index",components:{sumLine:x,customerHis:C,timeout:$},data:function(){return{rawData:[],rawLocalData:[],importFlag:!1,import_text:"导入19数据（请选择“沃运维”系统导出的故障单列表）",timer:void 0}},created:function(){this.init()},methods:{init:function(){var t=new Date,a=new Date;t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),this.getData(t.Format("yyyy-MM-dd hh:mm:ss"),a.Format("yyyy-MM-dd hh:mm:ss"))},getData:function(t,a){var e=this;void 0!=e.timer&&(clearTimeout(e.timer),e.timer=void 0),e.dataReady=!1,e.dataLocalReady=!1;var i=new FormData;i.append("START",t),i.append("END",a),this.axios.post("http://"+j+"scripts/assess_order/get_order_by_datetime.php",i).then((function(t){"success"==t.data.status?(e.rawData=t.data.result,e.sum=t.data.sum,e.dataReady=!0,e.dataReady&&e.dataLocalReady&&e.setTimer()):alert(t.data.errMsg)})).catch((function(t){alert(t)}));var s=new FormData;s.append("id",""),s.append("name",""),s.append("start_time_start",""),s.append("start_time_end",""),s.append("end_time_start",t),s.append("end_time_end",a),s.append("number",""),s.append("index",""),s.append("limit",""),this.axios.post("http://"+j+"scripts/getList.php",s).then((function(t){"success"==t.data.status?(e.rawLocalData=t.data.result,e.dataLocalReady=!0,e.dataReady&&e.dataLocalReady&&e.setTimer()):alert(t.data.errMsg)})).catch((function(t){alert(t)}))},setTimer:function(){var t=this,a=new Date,e=new Date;a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),void 0!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.getData(a.Format("yyyy-MM-dd hh:mm:ss"),e.Format("yyyy-MM-dd hh:mm:ss"))}),6e5),console.log(this.timer)},import19:function(){this.$refs.filElem.dispatchEvent(new MouseEvent("click"))},get_file:function(){var t=this;if(!t.importFlag)if(t.importFlag=!0,t.import_text="导入中，请稍后...",""!=this.$refs.filElem.value){var a=this.$refs.filElem.files[0],e=new FormData;e.append("file",a),this.axios.post("http://"+j+"scripts/assess_order/import_from_19.php",e).then((function(a){t.importFlag=!1,t.import_text="导入19数据（请选择“沃运维”系统导出的故障单列表）","success"==a.data.status?(alert("成功导入"+a.data.sum+"条记录!"),t.getData()):(console.log(a),alert("错误:"+a.data.errMsg)),t.$refs.filElem.value=""})).catch((function(a){console.log(a),t.importFlag=!1,t.import_text="导入19数据（请选择“沃运维”系统导出的故障单列表）",t.$refs.filElem.value=""}))}else t.importFlag=!1}}},z=H,V=(e("a33d"),Object(u["a"])(z,f,p,!1,null,"3f35273e",null)),N=V.exports;i["a"].use(d["a"]);var q=new d["a"]({routes:[{path:"/",name:"index",component:N}]}),I=e("bc3a"),Y=e.n(I),J=e("a7fe"),B=e.n(J),G=(e("c695"),e("cf75")),K=e.n(G);e("5d37");i["a"].config.productionTip=!1,i["a"].use(B.a,Y.a),i["a"].use(m.a),i["a"].use(K.a),new i["a"]({router:q,render:function(t){return t(h)}}).$mount("#app")},"85ec":function(t,a,e){},a33d:function(t,a,e){"use strict";var i=e("fccd"),s=e.n(i);s.a},e6b3:function(t,a,e){},fccd:function(t,a,e){},fdfb:function(t,a,e){"use strict";var i=e("e6b3"),s=e.n(i);s.a}});
//# sourceMappingURL=app.67331fd0.js.map